import{r as u,R as o}from"./vendor.84e4e883.js";import{u as R,w as N,a as P,c as _,b as $}from"./index.1dfa4fb2.js";import{u as D}from"./use-props-value.5c2136b7.js";import{b as F}from"./bound.0dcbd343.js";import"./index.fd334660.js";function S(i){var r=u.exports.useRef(i);r.current=i;var t=u.exports.useRef();return t.current||(t.current=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return r.current.apply(this,n)}),t.current}var I=function(r,t){var n=u.exports.useRef(!1);u.exports.useLayoutEffect(function(){if(!n.current)n.current=!0;else return r()},t)},q=I;function B(i,r){var t=S(i);u.exports.useLayoutEffect(function(){var n=r.current;if(!!n)if(window.ResizeObserver){var a=new ResizeObserver(function(){t()});return a.observe(n),function(){a.disconnect()}}else t()},[r])}function G(i,r,t){var n=S(i);u.exports.useEffect(function(){var a=new MutationObserver(function(){n()});if(!!r.current)return a.observe(r.current,t),function(){a.disconnect()}},[r])}var f="adm-tabs",H=function(){return null},J=function(r){var t,n=u.exports.useRef(null),a=u.exports.useRef(null),b={},y=null,p=[];o.Children.forEach(r.children,function(e,s){if(!!o.isValidElement(e)){var c=e.key;typeof c=="string"&&(s===0&&(y=c),b[c]=s,p.push(e))}});var h=D({value:r.activeKey,defaultValue:(t=r.defaultActiveKey)!==null&&t!==void 0?t:y,onChange:r.onChange}),v=h[0],C=h[1],x=R(function(){return{x:0,width:0,config:{tension:300,clamp:!0}}}),L=x[0],W=L.x,j=L.width,K=x[1],E=R(function(){return{scrollLeft:0,config:{tension:300,clamp:!0}}}),z=E[0].scrollLeft,A=E[1];function d(e){e===void 0&&(e=!1);var s=n.current;if(!!s){var c=b[v];if(c!==void 0){var l=s.children.item(c),k=l.children.item(0),g=k.offsetLeft,T=k.offsetWidth,m=s.offsetWidth,w=s.scrollWidth,V=s.scrollLeft,M=g;K.start({x:M,width:T,immediate:e});var O=w-m;if(!(O<=0)){var U=F(g-(m-T)/2,0,w-m);A.start({scrollLeft:U,from:{scrollLeft:V},immediate:e})}}}}return u.exports.useLayoutEffect(function(){d(!0)},[]),q(function(){d()},[v]),B(function(){console.log("resize"),d(!0)},a),G(function(){console.log("mutation"),d(!0)},n,{subtree:!0,childList:!0,characterData:!0}),N(r,o.createElement("div",{className:f,ref:a},o.createElement(P.div,{className:f+"-tab-list",ref:n,scrollLeft:z},p.map(function(e){var s;return N(e.props,o.createElement("div",{key:e.key,className:f+"-tab-wrapper"},o.createElement("div",{onClick:function(){var l=e.key;l!=null&&C(l.toString())},className:_(f+"-tab",(s={},s[f+"-tab-active"]=e.key===v,s))},e.props.title)))}),o.createElement(P.div,{className:f+"-tab-line",style:{width:j,x:W}})),p.map(function(e){return e.props.children===void 0?null:e.key===v?o.createElement("div",{key:e.key,className:f+"-content"},e.props.children):e.props.forceRender?o.createElement("div",{key:e.key,style:{display:"none"}},e.props.children):null})))},re=$(J,{TabPane:H});export{re as T};
